<!DOCTYPE html>
<html lang="en">
<head>
    <title>Tree-Test</title>
    <meta charset="utf-8">
    <link href="https://unpkg.com/tabulator-tables@4.9.3/dist/css/bootstrap/tabulator_bootstrap4.min.css"
          rel="stylesheet">
    <script src="https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.min.js"></script>
    <script src="https://unpkg.com/moment@2.29.1/min/moment.min.js"></script>
    <!-- temporarily in use - will go away ... -->
    <style>
        main {
            font-family: Veradana, sans-serif;
            font-size: 10pt
        }

        .tabulator {
            font-size: 10pt
        }

        .tabulator .tabulator-header {
            font-weight: 200
        }

        .tabulator .tabulator-footer {
            font-weight: 700
        }

        .tabulator-row .tabulator-cell {
            padding: .3rem !important
        }

        .tabulator-col-title {
            color: #bdbdbd
        }
    </style>
</head>
<body>
<main>
    <p>data-version = <span id="data-version">analyzing ...</span></p>
    <div id="tree-example-table" class="table-sm thead-dark"></div>
</main>
<script>
    let data_version = undefined
    const table = new Tabulator("#tree-example-table", {
        ajaxURL: "data.json",
        ajaxProgressiveLoad: "load",
        layout: "fitDataStretch",
        ajaxResponse: function (url, params, response) {
            data_version = response.data_version
            document.getElementById("data-version").innerText = data_version
            return response;
        },
        rowFormatter: function (row) {
            if (row.getData().data_version < data_version) {
                row.getElement().classList.add("table-warning");
            }
        },
        columns: [
        ],
    });
</script>
</body>
</html>
